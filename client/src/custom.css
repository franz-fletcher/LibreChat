/**
 * LibreChat Custom Theme
 * 
 * Modern OKLCH-based color system with custom fonts and enhanced shadows.
 * Automatically adapts to light/dark mode switching.
 */

/* ============================================
   CUSTOM THEME FOUNDATION
   ============================================ */

:root {
  /* === Color Palette (Light Mode) === */
  --background: oklch(0.98 0.01 93.48);
  --foreground: oklch(0.34 0.03 94.42);
  --card: oklch(0.98 0.01 93.48);
  --card-foreground: oklch(0.19 0 0);
  --popover: oklch(1.00 0 0);
  --popover-foreground: oklch(0.27 0.02 99.70);
  --primary: oklch(0.62 0.14 39.15);
  --primary-foreground: oklch(1.00 0 0);
  --secondary: oklch(0.92 0.01 87.42);
  --secondary-foreground: oklch(0.43 0.02 99.33);
  --muted: oklch(0.93 0.02 91.55);
  --muted-foreground: oklch(0.61 0.01 91.49);
  --accent: oklch(0.92 0.01 87.42);
  --accent-foreground: oklch(0.27 0.02 99.70);
  --destructive: oklch(0.19 0 0);
  --border: oklch(0.88 0.01 100.76);
  --input: oklch(0.76 0.02 96.91);
  --ring: oklch(0.59 0.17 252.92);
  
  /* === Chart Colors === */
  --chart-1: oklch(0.56 0.13 42.95);
  --chart-2: oklch(0.69 0.16 290.29);
  --chart-3: oklch(0.88 0.03 91.64);
  --chart-4: oklch(0.88 0.04 298.21);
  --chart-5: oklch(0.56 0.13 41.94);
  
  /* === Sidebar Colors === */
  --sidebar: oklch(0.97 0.01 93.49);
  --sidebar-foreground: oklch(0.36 0.01 106.85);
  --sidebar-primary: oklch(0.62 0.14 39.15);
  --sidebar-primary-foreground: oklch(0.99 0 0);
  --sidebar-accent: oklch(0.92 0.01 87.42);
  --sidebar-accent-foreground: oklch(0.33 0 0);
  --sidebar-border: oklch(0.94 0 0);
  --sidebar-ring: oklch(0.77 0 0);

  /* === Typography === */
  --font-sans: 'DM Sans', 'Inter', sans-serif;
  --font-serif: 'Geist', 'Geist Fallback', sans-serif;
  --font-mono: 'Space Mono', 'Roboto Mono', monospace;

  /* === Border Radius === */
  --radius: 1.2rem;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  
  /* === Custom Shadows === */
  --shadow-2xs: 0 1px 5px 0px oklch(0.00 0 0 / 0.02);
  --shadow-xs: 0 1px 5px 0px oklch(0.00 0 0 / 0.02);
  --shadow-sm: 0 1px 5px 0px oklch(0.00 0 0 / 0.04), 0 1px 2px -1px oklch(0.00 0 0 / 0.04);
  --shadow: 0 1px 5px 0px oklch(0.00 0 0 / 0.04), 0 1px 2px -1px oklch(0.00 0 0 / 0.04);
  --shadow-md: 0 1px 5px 0px oklch(0.00 0 0 / 0.04), 0 2px 4px -1px oklch(0.00 0 0 / 0.04);
  --shadow-lg: 0 1px 5px 0px oklch(0.00 0 0 / 0.04), 0 4px 6px -1px oklch(0.00 0 0 / 0.04);
  --shadow-xl: 0 1px 5px 0px oklch(0.00 0 0 / 0.04), 0 8px 10px -1px oklch(0.00 0 0 / 0.04);
  --shadow-2xl: 0 1px 5px 0px oklch(0.00 0 0 / 0.10);
  
  /* === Spacing === */
  --spacing: 0.24rem;
}

.dark {
  /* === Color Palette (Dark Mode) === */
  --background: oklch(0.27 0 0);
  --foreground: oklch(0.81 0.01 93.53);
  --card: oklch(0.27 0 0);
  --card-foreground: oklch(0.98 0.01 93.48);
  --popover: oklch(0.31 0 0);
  --popover-foreground: oklch(0.92 0 0);
  --primary: oklch(0.67 0.13 38.92);
  --primary-foreground: oklch(1.00 0 0);
  --secondary: oklch(0.98 0.01 93.48);
  --secondary-foreground: oklch(0.31 0 0);
  --muted: oklch(0.22 0 0);
  --muted-foreground: oklch(0.77 0.02 100.64);
  --accent: oklch(0.21 0.01 88.79);
  --accent-foreground: oklch(0.97 0.01 93.49);
  --destructive: oklch(0.64 0.21 25.39);
  --border: oklch(0.36 0.01 106.85);
  --input: oklch(0.43 0.01 99.03);
  --ring: oklch(0.59 0.17 252.92);
  
  /* === Chart Colors === */
  --chart-1: oklch(0.56 0.13 42.95);
  --chart-2: oklch(0.69 0.16 290.29);
  --chart-3: oklch(0.21 0.01 88.79);
  --chart-4: oklch(0.31 0.05 289.74);
  --chart-5: oklch(0.56 0.13 41.94);
  
  /* === Sidebar Colors === */
  --sidebar: oklch(0.24 0 0);
  --sidebar-foreground: oklch(0.81 0.01 93.53);
  --sidebar-primary: oklch(0.33 0 0);
  --sidebar-primary-foreground: oklch(0.99 0 0);
  --sidebar-accent: oklch(0.17 0 0);
  --sidebar-accent-foreground: oklch(0.81 0.01 93.53);
  --sidebar-border: oklch(0.94 0 0);
  --sidebar-ring: oklch(0.77 0 0);
  
  /* === Custom Shadows (Enhanced for Dark Mode) === */
  --shadow-2xs: 0 1px 3px 0px oklch(0.00 0 0 / 0.05);
  --shadow-xs: 0 1px 3px 0px oklch(0.00 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0px oklch(0.00 0 0 / 0.10), 0 1px 2px -1px oklch(0.00 0 0 / 0.10);
  --shadow: 0 1px 3px 0px oklch(0.00 0 0 / 0.10), 0 1px 2px -1px oklch(0.00 0 0 / 0.10);
  --shadow-md: 0 1px 3px 0px oklch(0.00 0 0 / 0.10), 0 2px 4px -1px oklch(0.00 0 0 / 0.10);
  --shadow-lg: 0 1px 3px 0px oklch(0.00 0 0 / 0.10), 0 4px 6px -1px oklch(0.00 0 0 / 0.10);
  --shadow-xl: 0 1px 3px 0px oklch(0.00 0 0 / 0.10), 0 8px 10px -1px oklch(0.00 0 0 / 0.10);
  --shadow-2xl: 0 1px 3px 0px oklch(0.00 0 0 / 0.25);
}


/* ============================================
   LIBRECHAT THEME INTEGRATION
   ============================================ */

html {
  /* === Override LibreChat's existing theme variables === */
  
  /* Brand Color */
  --brand-purple: var(--primary) !important;
  
  /* Backgrounds */
  --presentation: var(--background) !important;
  
  /* Text Colors */
  --text-primary: var(--foreground) !important;
  --text-secondary: var(--muted-foreground) !important;
  --text-tertiary: var(--muted-foreground) !important;
  
  /* Surface Colors */
  --surface-primary: var(--background) !important;
  --surface-secondary: var(--muted) !important;
  --surface-tertiary: var(--accent) !important;
  --surface-hover: var(--accent) !important;
  --surface-active: var(--secondary) !important;
  --surface-dialog: var(--card) !important;
  --surface-chat: var(--background) !important;
  
  /* Interactive Elements */
  --surface-submit: var(--primary) !important;
  --surface-submit-hover: var(--primary) !important;
  --surface-destructive: var(--destructive) !important;
  
  /* Borders */
  --border-light: var(--border) !important;
  --border-medium: var(--border) !important;
  --border-heavy: var(--input) !important;
  
  /* Header */
  --header-primary: var(--sidebar) !important;
  --header-hover: var(--sidebar-accent) !important;
  
  /* Focus Ring */
  --ring-primary: var(--ring) !important;
}

.dark {
  /* === Dark Mode Theme Integration === */
  
  /* Brand Color */
  --brand-purple: var(--primary) !important;
  
  /* Backgrounds */
  --presentation: var(--background) !important;
  
  /* Text Colors */
  --text-primary: var(--foreground) !important;
  --text-secondary: var(--muted-foreground) !important;
  --text-tertiary: var(--muted-foreground) !important;
  
  /* Surface Colors */
  --surface-primary: var(--background) !important;
  --surface-secondary: var(--card) !important;
  --surface-tertiary: var(--accent) !important;
  --surface-hover: var(--accent) !important;
  --surface-active: var(--muted) !important;
  --surface-dialog: var(--card) !important;
  --surface-chat: var(--background) !important;
  
  /* Interactive Elements */
  --surface-submit: var(--primary) !important;
  --surface-submit-hover: var(--primary) !important;
  --surface-destructive: var(--destructive) !important;
  
  /* Borders */
  --border-light: var(--border) !important;
  --border-medium: var(--border) !important;
  --border-heavy: var(--input) !important;
  
  /* Header */
  --header-primary: var(--sidebar) !important;
  --header-hover: var(--sidebar-accent) !important;
  
  /* Focus Ring */
  --ring-primary: var(--ring) !important;
}


/* ============================================
   TYPOGRAPHY OVERRIDES
   ============================================ */

body,
html {
  font-family: var(--font-sans) !important;
}

code,
pre,
.font-mono {
  font-family: var(--font-mono) !important;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-serif) !important;
}


/* ============================================
   BORDER RADIUS OVERRIDES
   ============================================ */

/* Buttons */
.btn,
button {
  border-radius: var(--radius-md) !important;
}

/* Input Fields */
input,
textarea,
select {
  border-radius: var(--radius-md) !important;
}

/* Cards & Containers */
[role="dialog"],
.modal,
.popover-ui {
  border-radius: var(--radius-lg) !important;
}

/* Message Bubbles */
.message-content {
  border-radius: var(--radius-lg) !important;
}

/* Code Blocks */
pre {
  border-radius: var(--radius-md) !important;
}

code:not(pre code) {
  border-radius: var(--radius-sm) !important;
}


/* ============================================
   SHADOW SYSTEM INTEGRATION
   ============================================ */

/* Buttons */
.btn-primary,
button[type="submit"] {
  box-shadow: var(--shadow-sm) !important;
}

.btn-primary:hover,
button[type="submit"]:hover {
  box-shadow: var(--shadow-md) !important;
}

/* Cards */
[role="dialog"],
.modal {
  box-shadow: var(--shadow-xl) !important;
}

/* Popovers */
.popover-ui {
  box-shadow: var(--shadow-lg) !important;
}

/* Dropdowns */
.select-item {
  box-shadow: var(--shadow-sm) !important;
}

/* Scroll Button */
.premium-scroll-button {
  box-shadow: var(--shadow-md) !important;
}

.premium-scroll-button:hover {
  box-shadow: var(--shadow-lg) !important;
}

/* Message Containers */
.message-content {
  box-shadow: var(--shadow-xs) !important;
}


/* ============================================
   SIDEBAR CUSTOMIZATION
   ============================================ */

/* Sidebar Background */
.nav-sidebar,
nav[class*="sidebar"],
aside {
  background-color: var(--sidebar) !important;
  color: var(--sidebar-foreground) !important;
  border-right: 1px solid var(--sidebar-border) !important;
}

/* Sidebar Hover States */
.nav-sidebar button:hover,
nav[class*="sidebar"] button:hover {
  background-color: var(--sidebar-accent) !important;
  color: var(--sidebar-accent-foreground) !important;
}

/* Sidebar Active Item */
.nav-sidebar [aria-current="page"],
nav[class*="sidebar"] [aria-current="page"] {
  background-color: var(--sidebar-primary) !important;
  color: var(--sidebar-primary-foreground) !important;
}


/* ============================================
   INPUT & FORM ELEMENTS
   ============================================ */

input,
textarea,
select {
  background-color: var(--background) !important;
  border-color: var(--input) !important;
  color: var(--foreground) !important;
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--ring) !important;
  box-shadow: 0 0 0 3px oklch(from var(--ring) l c h / 0.1) !important;
}


/* ============================================
   BUTTON ENHANCEMENTS
   ============================================ */

.btn-primary,
button[type="submit"] {
  background-color: var(--primary) !important;
  color: var(--primary-foreground) !important;
  border: none !important;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.btn-primary:hover,
button[type="submit"]:hover {
  filter: brightness(1.1) !important;
  transform: translateY(-1px) !important;
}

.btn-primary:active,
button[type="submit"]:active {
  transform: translateY(0) !important;
}

.btn-secondary {
  background-color: var(--secondary) !important;
  color: var(--secondary-foreground) !important;
  border: 1px solid var(--border) !important;
}

.btn-secondary:hover {
  background-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
}


/* ============================================
   POPOVER & DROPDOWN STYLING
   ============================================ */

.popover-ui {
  background-color: var(--popover) !important;
  color: var(--popover-foreground) !important;
  border: 1px solid var(--border) !important;
}

.select-item[data-active-item] {
  background-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
}


/* ============================================
   CODE BLOCKS
   ============================================ */

pre {
  background-color: var(--muted) !important;
  border: 1px solid var(--border) !important;
}

.dark pre {
  background-color: var(--accent) !important;
}

code:not(pre code) {
  background-color: var(--muted) !important;
  color: var(--foreground) !important;
  padding: 0.125rem 0.375rem !important;
}


/* ============================================
   SCROLLBAR STYLING
   ============================================ */

::-webkit-scrollbar {
  width: 12px !important;
  height: 12px !important;
}

::-webkit-scrollbar-track {
  background: var(--background) !important;
  border-radius: var(--radius-lg) !important;
}

::-webkit-scrollbar-thumb {
  background: var(--muted) !important;
  border-radius: var(--radius-lg) !important;
  border: 3px solid var(--background) !important;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent) !important;
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--muted) !important;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--accent) !important;
}


/* ============================================
   FOCUS STATES
   ============================================ */

:focus-visible {
  outline: 2px solid var(--ring) !important;
  outline-offset: 2px !important;
  border-radius: var(--radius-sm) !important;
}


/* ============================================
   CUSTOM ENHANCEMENTS
   ============================================ */

/* Smooth transitions for theme switching */
* {
  transition-property: background-color, border-color, color, fill, stroke !important;
  transition-duration: 200ms !important;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Remove transitions for elements that shouldn't animate */
*:where(
  [class*="animate"],
  [class*="transition"],
  pre,
  code,
  svg
) {
  transition: none !important;
}

/* Enhanced hover states for interactive elements */
button:not(:disabled),
a,
[role="button"] {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

button:not(:disabled):hover,
a:hover,
[role="button"]:hover {
  transform: translateY(-1px) !important;
}

button:not(:disabled):active,
a:active,
[role="button"]:active {
  transform: translateY(0) !important;
}
